# ТЗ Кучеряво живем

Редактируемый документ с ТЗ на [Notion](https://mica-polyester-67b.notion.site/41cc501f33ba4602bde612ea3618c543)

# Цель проекта

Кучеряво живем - сервис для контроля своих расходов по персональному финансовому плану

# Описание проекта

Основные блоки функционала сервиса:

1. Регистрация и аутентификация
2. Создание персонального плана на месяц
3. Внесение расходов и доходов
4. Контроль расходов по разным категориям

## Регистрация и аутентификация

### Регистрация

При регистрации пользователь заполняет форму со следующими полями:

- Логин - обязательное поле
- Псевдоним (имя) - необязательное поле
- Email - обязательное поле
- Пароль - обязательное поле
- Пароль (ещё раз) - обязательное поле

На email приходит письмо с ссылкой для подтверждения регистрации.

Пароль сохраняется в хешированном виде.

На странице с формой должна быть ссылка на форму для аутентификации, в случае, если у пользователя уже есть аккаунт сервиса.

### Аутентификация

Аутентификация пользователя осуществляется посредством формы с полями для ввода Email (или логина) и пароля.

На странице с формой должна быть ссылка на форму для регистрации, в случае, если у пользователя нет аккаунта сервиса.

## Создание персонального плана на месяц

Пользователь имеет возможность создать персональный план на месяц.

План делит бюджет на блоки и подблоки фиксированной суммы (далее - фиксированные блоки) или блоки (подблоки) с процентом - долей от всего бюджета (далее - процентные блоки).

При создании плана можно выбрать один из заготовленных шаблонов и в последствии заниматься его кастомизацией.

Примеры шаблонов:

- 50-40-10:
  1. 50% - обязательные расходы
  2. 40% - необязательные расходы
  3. 10% - накопления
- 50-30-20:
  1. 50% - обязательные расходы
  2. 30% - необязательные расходы
  3. 20% - накопления
- 6 конвертов:
  1. 15% - ежемесячные платежи
  2. 20% - питание
  3. 20% - деньги на детей
  4. 20% - существенные покупки (мебель, техника, одежда)
  5. 15% - отпуск, развлечения
  6. 10% - накопления
- 4 конверта:
  1. 25% - 1 неделя
  2. 25% - 2 неделя
  3. 25% - 3 неделя
  4. 25% - 4 неделя

Сумма средств, отведенная на блок считается по формуле `(процент / 100) * бюджет на месяц`.
При наличии блоков с фиксированной суммой доля процентных блоков считается по формуле `(процент / 100) * (бюджет на месяц -  Σ фиксированных блоков)`.

Блоки плана могут быть детализированы - разбиты на подблоки. К примеру, блок “обязательные траты” может быть поделен на “ЖКХ”, “транспорт”, “питание” с различными процентами. Доля подблоков высчитывается относительно суммы выделенной на блок, к которому они относятся.

План должен занимать весь бюджет. В случае недобора создается блок (подблок) “прочие траты”. Перебор заблокирован (сумма всех процентов процентных блоков ≤ 100, сумма всех фиксированных блоков ≤ бюджета на месяц).

## Внесение расходов и доходов

Форма внесения информации о трате:

- Сумма
- Категория (категории соответствуют блокам и подблокам плана)

Новые доходы прибавляются к бюджету на месяц. Доли процентных блоков пересчитываются.

## Контроль расходов по разным категориям

На основной странице сервиса можно увидеть все блоки расходов и доли бюджета, отведенные им. Под блоками - полоски, заполняющиеся по мере накопления расходов в этой категории. По нажатию на блок открываются его подблоки со своими полосками.

# Дизайн

Упор в минимализм, функциональный дизайн. Светлый фон, яркими цветами выделяются акценты: логотип, заполняющиеся полоски, общий бюджет.

[Figma, режим просмотра](https://www.figma.com/proto/RtngiqvSYKLCl5fPUU9P8b/Curly-Life?node-id=103%3A448&scaling=scale-down-width&page-id=0%3A1&starting-point-node-id=103%3A448)  
[Figma, режим редактирования](https://www.figma.com/file/RtngiqvSYKLCl5fPUU9P8b/Curly-Life?node-id=0%3A1)


Сервис - SPA, должен обладать следующими страницами:

- Регистрация / аутентификация
- Управление профилем (оверлей)
- Контроль трат
- Конструктор плана

## Регистрация / аутентификация

- Регистрация:
  Включает форму с полями, необходимыми для регистрации пользователя
- Аутентификация:
  Включает форму с полями, необходимыми для аутентификации пользователя

## Оверлей управления профилем

Профиль авторизованного пользователя:

Должен иметь следующие элементы:

- Информация о имени пользователя, логине и email
- Интерфейс для изменения имени пользователя
- Выбор даты начала месяца
- Кнопка для сброса аккаунта - “Выйти”

## Контроль трат

Раздел должен иметь следующие элементы:

- Блоки плана
  - Название блока
  - Доля блока
  - Сумма средств, отведенных на блок
  - Сумма оставшихся средств (учитывая расходы)
  - Полоска заполненности блока расходами
- Интерфейс для раскрытия блока - отображения его подблоков
- Общая сумма бюджета на месяц
- Кнопка для добавления траты
- Интерфейс для настройки траты:
  - Название
  - Сумма
  - Категория (соответствуют блокам и подблокам)

    Пример категорий:

    - Обязательные траты (трата принадлежит к блоку обязательных трат)
    - Обязательные траты > Питание (трата принадлежит к подблоку питания блока обязательных трат)
- Кнопку добавления траты можно перенести на соответствующий блок и тогда в интерфейсе настройки новой траты поле категория уже будет заполнено

## Редактировать план

Раздел должен иметь следующие элементы:

- Интерфейс для выбора шаблонов
- Кнопка для сохранения текущего шаблона
- Кнопка для добавления нового блока
- Интерфейс для настройки блока:
  - Название
  - Вид - процентный или фиксированный
  - Доля
- Визуальное отображение создаваемого плана (все блоки, заполнение 100 доступных процентов плана процентными блоками)
- Способ выбора блока для детализации его подблоками
